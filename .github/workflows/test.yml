name: Test the Action

on:
  workflow_dispatch: 
    inputs:
      image_version:
        default: latest
        description: What version of the container should run?

permissions:
  packages: read

jobs:
  test:
    runs-on: ubuntu-latest
    container: 
      image: ghcr.io/edwardofclt/astro-action:latest
      # credentials:
      #   username: ${{ github.actor }}
      #   password: ${{ secrets.github_token }}
    steps:
      - uses: actions/checkout@v3
      - run: astro version